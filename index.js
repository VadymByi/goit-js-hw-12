import{i as n,a as v,S as $}from"./assets/vendor-Boytw_0t.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const B="53264835-3cab029ef424b81cbc621d12a",A="https://pixabay.com/api/",m=15,g=async(e,r=1)=>{if(!e||e.trim()==="")return n.warning({title:"Warning",message:"Enter your search term",position:"topRight"}),null;const s=`${A}?key=${B}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${m}&page=${r}`;try{return(await v.get(s)).data}catch(i){throw n.error({title:"Error",message:`Axios error: ${i.message}`,position:"topRight"}),console.error("Axios error: ",i),i}},E=new $(".gallery a"),l={gallery:document.querySelector(".gallery"),loader:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".moreBtn")};function h(e){const r=e.map(({webformatURL:s,largeImageURL:i,tags:t,likes:o,views:c,comments:b,downloads:S})=>`<div class="gallery-card-wrapper"><a class="gallery-item" href="${i}"><img class="gallery-image" src="${s}" alt="${t}" width="360"/><ul class="gallery-item-info">
  <li class="info-item">Likes </br> <span>${o}</span></li>
  <li class="info-item">Views </br><span>${c}</span></li>
  <li class="info-item">Comments </br><span>${b}</span></li>
  <li class="info-item">Downloads </br><span>${S}</span></li>
</ul></a></div>`).join("");l.gallery.insertAdjacentHTML("beforeend",r),E.refresh()}function P(){l.gallery.innerHTML=""}function p(){l.loader.classList.add("is-visible")}function y(){l.loader.classList.remove("is-visible")}function w(){l.loadMoreBtn.classList.remove("hide")}function u(){l.loadMoreBtn.classList.add("hide")}let d="",a=1;const L=document.querySelector(".form"),R=L.querySelector('input[name="search-text"]'),f=document.querySelector(".moreBtn");L.addEventListener("submit",q);f&&f.addEventListener("click",M);async function q(e){if(e.preventDefault(),u(),d=R.value.trim(),a=1,!!d){P(),p();try{await new Promise(s=>setTimeout(s,1e3));const r=await g(d,a);if(!r||!Array.isArray(r.hits)||r.hits.length===0){n.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});return}h(r.hits),a*m>=r.totalHits?(u(),n.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):w()}catch{n.error({title:"Error",message:"Something went wrong. Please try again later.",position:"topRight"})}finally{y()}}}async function M(){a+=1,u(),p();try{await new Promise(r=>setTimeout(r,1e3));const e=await g(d,a);if(!e||!Array.isArray(e.hits)||e.hits.length===0){u();return}h(e.hits),x(),a*m>=e.totalHits?(u(),n.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):w()}catch(e){console.error(e),n.error({title:"Error",message:"Something went wrong while loading more images.",position:"topRight"})}finally{y()}}function x(){const e=document.querySelector(".gallery .gallery-card-wrapper");if(!e)return;const{height:r}=e.getBoundingClientRect();window.scrollBy({top:r*3,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
